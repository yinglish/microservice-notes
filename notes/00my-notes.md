# 微服务

## 提到微服务应该想到哪些问题、概念

* 什么是微服务
  * 每个微服务都是自包含(self-contained)，各自维护紫的的数据存储，可以独立更新其他服务[<sup>1</sup>](#refer-anchor-1)
  * 一组自治的服务，组合构成一定的功能对外服务
* 为什么需要微服务（微服务的优缺点）
  * 优点
    * 一个服务对应一个项目，小、专一
    * 可以技术异构
    * 部署升级容易
    * 服务扩容灵活方便
    * 应用解耦
  * 缺点（带来的问题）
    * 分布式（服务的瓶颈（性能）、数据一致性问题）
    * 问题定位（调用链）
    * 服务拆分（服务设计）
* 微服务的组件及其解决的问题
  * 注册中心：服务都在此处注册，需要调用服务从这儿获取调用接口
    * Eureka
    * Console
    * ZooKeeper
  * 配置中心：配置管理，在此更改配置后下发至对应的服务
    * Config
  * 服务发现：每个微服务需要一个服务发现客户端，上报服务、获取服务列表、提供健康检查接口
  * 负载均衡：服务可能会有多个实例，可以在客户端实现负载均衡
  * 链路追踪：微服务架构中，某个服务可能会有多个依赖，需要它们之间的依赖关系，还便于系统故障时定位问题
  * 监控：监控各服务、组件的状态
  * 网关：提供域外或企业外服务，可提供限流，鉴权等功能
  * 微服务治理：提过治理平台，能够便于微服务的管理，如服务实例的增、减等
* 微服务的架构
  * 设计
    * 原则
      * 高内聚、低耦合
    * 工具
      * 微服务全生命周期管理流程
  * 开发
    * 开发工具等支持
      * 脚手架，代码模板等
  * 测试
    * 单元测试
    * 集成测试
    * 端到端测试
    * 契约测试
  * 部署
    * 一般部署等
    * 各种发布方式等

<!-- 引用部分 -->
<div id="refer-anchor-1"></div>
- 《微服务：从设计到部署》

## 微服务架构图及解释